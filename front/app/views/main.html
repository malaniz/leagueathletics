<script type="text/ng-template" id="tree_item_renderer.html">
  <div ui-tree-handle class="tree-node tree-node-content">
  <a 
    class="btn btn-success btn-xs" 
    ng-if="x.childs && x.childs.length > 0" 
    data-nodrag 
    ng-click="togg(this)"
  >
    <span
      class="glyphicon"
      ng-class="{ 'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"
    >
    </span>
  </a>
  {{x.url}}
  </div>
  <ol ui-tree-nodes="" ng-model="x.childs" ng-class="{hidden: collapsed}">
    <li ng-repeat="x in x.childs" ui-tree-node ng-include="'tree_item_renderer.html'"></li>
  </ol>
</script>

<div class="jumbotron" ng-if="step === 1">
  <h1>Super Crawler <br> is here!</h1>
  <p class="lead">
    Always Spying you! ;)
  </p>
  <div class="row">
    <div class="col-md-10">
      <input class="form-control" ng-model="url" placeholder="Url to spy"/> </p>
    </div>
    <div class="col-md-2">
      <button class="btn btn-success" ng-click="getData(url)">Go!</button>
    </div>
  </div>
</div>

<div class="row " ng-if="step === 2">
  <button class="btn btn-success pull-right" ng-click="goBack()">Back</button>
  <h4>League athletics</h4>
  <p>
  A sample crawler program 
  </p>

  <h4 ng-if="data">Results</h4>
  <div class="row">
    <div class="col-md-10">
      <input class="form-control" ng-model="searchurl" placeholder="Search" /> </p>
    </div>
    <div class="col-md-2">
      <button class="btn btn-success" ng-click="deepfilter(data, searchurl)">Go!</button>
    </div>
  </div>

  <div ui-tree>
    <ol ui-tree-nodes="" ng-model="data.childs" id="tree-root">
      <li ng-repeat="x in data.childs" ui-tree-node ng-include="'tree_item_renderer.html'"></li>
    </ol>
  </div>
</div>
